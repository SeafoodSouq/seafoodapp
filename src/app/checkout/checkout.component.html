<div class="container">
    <div style="height: 100px;"></div>

  <div class="row">
    <div class="col-lg-3">
      <h1 class="title">Checkout</h1>
      <h1 class="subtitle">Billing Details</h1>
      <div class="shipping-details table-checkout">
        <h5>Shipping Information</h5>
        <table>
          <tr>
            <td><b> Address</b></td>
            <td>{{info?.dataExtra?.Address}}</td>
          </tr>
          <tr>
              <td><b>City</b></td>
              <td>{{info?.dataExtra?.City}}</td>
            </tr>
            <tr>
                <td><b>Country</b></td>
                <td>{{info?.dataExtra?.country}}</td>
              </tr>
              <tr>
                  <td><b>Zipcode</b></td>
                  <td>{{info?.dataExtra?.zipCode}}</td>
                </tr>
        </table>
        
      </div>
    </div>
    <div class="col-lg-9">
        <form #form  action="https://sbcheckout.PayFort.com/FortAPI/paymentPage" method="POST" ngNativeValidate (ngSubmit)="form.submit()">
        <!--<form #form ngNativeValidate (ngSubmit)="onSubmit()">-->
        <div class="row">
            <div class="col-lg-6">
                <div class="form-group">
                    <label>Cardholder Name </label>
                    <input type="text" class="form-control" name="card_holder_name" required>
  
                  </div>
            </div>
          <div class="col-lg-6">
              <div class="form-group">
                  <label>Card Number <img height="30px" src="../../assets/Credit-Card-Logos.jpg" alt=""></label>
                  <input type="number" class="form-control" name="card_number" required>

                </div>
          </div>
          <div class="col-lg-12">
              <div class="form-group">
                  <label>Billing Address</label>
                  <textarea class="form-control" required placeholder="Fill with your Address, City & State" rows="3"></textarea>

                </div>
          </div>
          <div class="col-lg-6">
              <div class="form-group">
                  <label>Card Security Code</label>
                  <input type="number" class="form-control" name="card_security_code" required>

                </div>
          </div>
          <div class="col-lg-6">
              <div class="form-group">
                  <label>Expiration</label>
                  <div class="row">
                    <div class="col-md-6">
                        <select required placeholder="Month" class="form-control" [(ngModel)]="selectMonth"  [ngModelOptions]="{standalone: true}" (change)="onDateChange()">
                            <option value="01">01</option>
                            <option value="02">02</option>
                            <option value="03">03</option>
                            <option value="04">04</option>
                            <option value="05">05</option>
                            <option value="06">06</option>
                            <option value="07">07</option>
                            <option value="08">08</option>
                            <option value="09">09</option>
                            <option value="10">10</option>
                            <option value="11">11</option>
                            <option value="12">12</option>
                          </select>
                    </div>
                    <div class="col-md-6">
                        <select required class="form-control" [(ngModel)]="selectYear"  [ngModelOptions]="{standalone: true}" (change)="onDateChange()">
                            <option value="" selected>Year</option>
                            <option value="19">2019</option>
                            <option value="20">2020</option>
                            <option value="21">2021</option>
                            <option value="22">2022</option>
                            <option value="23">2023</option>
                            <option value="24">2024</option>
                            <option value="25">2025</option>
                            <option value="26">2027</option>
                            <option value="27">2027</option>
                            <option value="28">2028</option>
                    
                          </select>
                    </div>
                  </div>
                 
                  <!-- <input type="month" min="2019-01" max="2025-12" class="form-control" required [(ngModel)]="expiryF"  [ngModelOptions]="{standalone: true}" (change)="onDateChange()"> -->
                  <input type="hidden" class="form-control" name="expiry_date" required [(ngModel)]="expiryDate">
                  <input type="hidden" name="access_code" [(ngModel)]="accessToken">
                  <input type="hidden" name="language" value="en">
                  <input type="hidden" name="merchant_identifier" [(ngModel)]="merchantID">
                  <input type="hidden" name="merchant_reference" [(ngModel)]="randomID">
                  <input type="hidden" name="service_command" value="TOKENIZATION">
                  <input type="hidden" name="signature" [(ngModel)]="signatureCode">
                </div>
          </div>
          
        </div>
        <div class="row">
          <div class="col-lg-12">
            <input type="checkbox" [(ngModel)]="check" [ngModelOptions]="{standalone: true}"  (change)="onInputChange($event)"> <b>Ship to a different address?</b>
            <div style="height: 30px;"></div>
          </div>
        </div>
        <div class="row" [hidden]="!showShippingFields">
            <div class="col-lg-6">
                <div class="form-group">
                    <label>First Name</label>
                    <input type="text" class="form-control">
                  </div>
            </div>
            <div class="col-lg-6">
                <div class="form-group">
                    <label>Last Name</label>
                    <input type="text" class="form-control">
                  </div>
            </div>
            <div class="col-lg-6">
                <div class="form-group">
                    <label>Company Name</label>
                    <input type="text" class="form-control">
                  </div>
            </div>
            <div class="col-lg-6">
                <div class="form-group">
                    <label>Country</label>
                    <input type="text" class="form-control">
                  </div>
            </div>
            <div class="col-lg-12">
                <div class="form-group">
                    <label>Street address</label>
                    <input type="text" class="form-control">
                  </div>
            </div>
            <div class="col-lg-12">
                <div class="form-group">
                    <label>Town / City</label>
                    <input type="text" class="form-control">
                  </div>
            </div>
            <div class="col-lg-12">
                <div class="form-group">
                    <label>State</label>
                    <input type="text" class="form-control">
                  </div>
            </div>
            <div class="col-lg-12">
                <div class="form-group">
                    <label>ZIP</label>
                    <input type="number" class="form-control">
                  </div>
            </div>
        </div>
        <div class="row table-checkout">
          <div class="col-lg-12">
            <h3>Your order</h3>
            <table>
              <tr>
                  <th>Product</th>
                  <th>Total</th>
              </tr>
              <tr *ngFor="let product of products; index as i;">
                <td>
                  {{product?.fish?.type?.name}} <b> Ã— {{product.quantity.value}} kg</b>
                  <br>
                  <label>Max Expected Delivery Date: </label>
                  <input [min]="product.minDeliveryDate" [max]="max" [owlDateTimeTrigger]="dt1" [owlDateTime]="dt1" (dateTimeChange)="emitValue()" class="medd" id="medd{{product.id}}" >
                  <owl-date-time [pickerType]="'calendar'" #dt1></owl-date-time>
                </td>
                <td>{{getTotalxItem(product.quantity.value, product.price.value)}} AED</td>
              </tr>
              <tr>
                <td><b>Subtotal</b></td>
                <td><b>{{total}} AED</b></td>
              </tr>
              <tr>
                <td><b>Shipping</b></td>
                <td><b>{{shipping}} AED</b></td>
              </tr>
              <tr>
                <td><b>Taxes, Customs and Other Fees</b></td>
                <td><b>{{totalOtherFees}} AED</b></td> 
              </tr>
              <tr>
                <td><b>Total</b></td>
                <td><b>{{totalWithShipping}} AED</b></td>
              </tr>
              
            </table>
          </div>
        </div>
      
        <div class="row">
          <div class="col-lg-6">
              <button [disabled]="all_medd_ok == false" type="submit" class="btn btn-red">Proceed to Pay</button>

          </div>
        </div>
        
      </form>
    </div>
  </div>
</div>
