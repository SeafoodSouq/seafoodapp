<div class="content single-product" *ngIf="show; else elseBlock">
  <div class="container">
    <div class="row">  
      <div class="col-12">
        <img src="../../assets/loader.gif" alt="loading..." *ngIf="showLoading" class="loading">
      </div>
      <div class="col-lg-6 product-img">
        <img src="../../assets/default-img-product.jpg" alt="" class="img-fluid" *ngIf="!images;else slider">
        <ng-template #slider>
          <div class="flexslider">
            <div class="slides">
              <li *ngIf="mainImg && mainImg!=''"><div class="img-bg" [style.background-image]="mainImg"></div></li>
              <li *ngFor="let image of images; index as i;">
                <div class="img-bg" [style.background-image]="image"></div>
              </li>
            </div>
            
          </div>  
          <div class="text-center">
            <span class="slide-current-slide"></span>
            <span class="slide-total-slides"></span>
          </div>
         
        </ng-template>      
      </div>
      <div class="col-lg-6 product-content">
        <h2 class="product-name">
          {{name}}
          <div class="favorite-content" *ngIf="role==2">
            <button (click)="submitFavorite()" *ngIf="!isFavorite;else favorite" [disabled]="enabledHeart"><fa name="heart-o"></fa></button>
            <ng-template #favorite>
              <button (click)="submitFavorite()" [disabled]="enabledHeart"><fa name="heart" class="isfavorite"></fa>
              </button>
            </ng-template>
          </div>
        </h2>
        <div class="logo-store"><img src="{{logo}}" alt=""></div>
        <h5><a routerLink="/store/{{storeId}}">{{storeName}}</a></h5>
        <hr class="black-line">
        <span class="rating">{{'SingleProduct.seller-rating' | translate}}</span> <br>
        <bar-rating [(rate)]="averageReview" [max]="5" [readOnly]="true" [theme]="'fontawesome-o'"></bar-rating>
        <ul class="product-details">
          <li>{{'SingleProduct.raised' | translate}}: <span>{{raised}}</span></li>
          <li>{{'SingleProduct.preparation' | translate}}: <span>{{preparation}}</span></li>
          <li>{{'SingleProduct.form-type' | translate}}: <span>{{treatment}}</span></li>
          <li>{{'SingleProduct.country' | translate}}: <span>{{country}}</span></li>
        </ul>
        <div class="product-info">
          <!-- <p>
           {{description}}
         </p> -->
          <span class="price"><b>$ {{priceValue}} / {{measurement}}</b></span>
          <form action="#" *ngIf="isLogged; else login" class="actions-form">
            <div class="row" style="align-items: center;">
              <div class="col">
                <div class="quantity">
                  <div class="qty-wrapper">
                    <input type="number" step="1" [min]="min" [max]="max" name="quantity" [(ngModel)]="count"  title="Qty" class="input-text qty text" size="4" pattern="[0-9]*" inputmode="numeric" (change)="verifyQty()">
                    <span>kg</span>
                  </div>
                  <div class="qty-btn">
                    <button type="button" id="add" class="add" (click)="increaseCount()">+</button>
                    <button type="button" id="sub" class="sub" (click)="dicreaseCount()">-</button>
                  </div>
                </div>
              </div>
            </div>
            <p class="charges-p">First Mile Shipping ${{charges.firstMileCost}}</p>
            <p class="charges-p">Last Mile Shipping ${{charges.lastMileCost}}</p>
            <p class="charges-p">SFS Margin ${{charges.sfsMargin}}</p>
            <p class="charges-p">Taxes ${{charges.uaeTaxes}}</p>
            <p class="charges-p">Customs ${{charges.customs}}</p>
            <p class="charges-p">Handling Fess ${{charges.handlingFees}}</p>
            <p class="total-calc" [innerHtml]="getTotal()"></p>
            <button (click)="addToCart()" type="submit" class="btn-red">{{'SingleProduct.add' | translate}}<i class="hook-img"></i></button>
            <button *ngIf="showCart" (click)="goToCart()" class="btn-red btn-view">{{'SingleProduct.view' | translate}}<i class="hook-img"></i></button>
          </form>
          <ng-template #login>
            <p>{{'SingleProduct.no-login' | translate}} <a routerLink="/login">{{'SingleProduct.here' | translate}}</a></p>
          </ng-template>
        </div>
      </div>
    </div>   
  </div>
</div>

<ng-template #elseBlock>
  
  <div class="not-found-grid">
    <p>{{'SingleProduct.no-found' | translate}}</p>
  </div>  
</ng-template>
