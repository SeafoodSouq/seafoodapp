<div class="container">
	<div class="row">
		<div class="col-12">
			<h2 class="black-title">{{'Orders-items.title' | translate}}</h2>
		</div>
	</div>
	<div class="row">
		<div class="col">
			<div class="col-12" *ngIf="showLoading"><img src="../../assets/loader.gif" alt=""></div>
		</div>
	</div>
	<div *ngIf="showData">
		<div class="row">
			<div class="col-md-6 col-lg-4" *ngFor="let product of products; let i=index">
				<div class="product-cont">
					<div class="actions">
						<fa name="heart-o" (click)="submitFavorite(product.favorite.msg, product.fish.id, product.favorite.id)" *ngIf="!product.favorite.msg; else favorite"></fa>
                  		<ng-template #favorite><fa name="heart" (click)="submitFavorite(product.favorite.msg, product.fish.id, product.favorite.id)" class="isfavorite"></fa></ng-template>
					</div>
					<a routerLink="/product/{{product.fish.id}}">
						<div class="product-img" [style.background-image]="images[i]"></div>
					</a>
					<div class="content">
						<a routerLink="/product/{{product.fish.id}}">
							<h2 class="name">{{product.fish.name}}</h2>
						</a>
						<a routerLink="/store/{{product.fish.store.id}}">
							<h5 class="sold">{{product.fish.store.name}}</h5>
						</a>
						<hr class="hr-small">
						<a (click)="ShowReviewForm(product.fish.store.id)" class="review">
							<img src="../../assets/review-icon.png" alt="">{{'Orders-items.review' | translate}}</a>
						<hr class="hr-small">
						<span class="price">{{product.fish.price.type}} {{product.fish.price.value}} {{product.fish.weight.type}}</span>
						<div class="buttons">
							<a routerLink="/product/{{product.fish.id}}" class="pink-btn">{{'Orders-items.view' | translate}}</a>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<div class="comment-container" *ngIf="showForm" >
	<div class="outside" (click)="closeForm()"></div>
	<div class="content">
		<h2 class="black-title">{{'Orders-items.review-title' | translate}}</h2>
		<hr class="hr-small">
		<div class="start">
			<span *ngFor="let star of Stars"><fa name="star" (click)="getstar(star)" [ngClass]="{'is-active':star<=count}"></fa></span>
		</div>
		<form [formGroup]="reviewForm" (submit)="sendReview()" class="form-design">
			<div class="form-group">
				<label>{{'Orders-items.review-message' | translate}}</label>
				<textarea class="form-control" placeholder="{{'Orders-items.review-message' | translate}}" formControlName="comment" [ngClass]="{'is-invalid':reviewForm.get('comment').invalid && reviewForm.get('comment').touched}"></textarea>
          		<div class="invalid-feedback" *ngIf="reviewForm.get('comment').hasError('required')">{{'Orders-items.is-invalid' | translate}}.</div>
			</div>
			<input type="submit" class="btn-red" value="{{'Orders-items.send' | translate}}" [disabled]="reviewForm.invalid">
		</form>
	</div>
</div>