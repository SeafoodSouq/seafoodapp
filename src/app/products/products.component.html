<div class="products-section">
  <div class="container">
    <div class="row">
      <div class="col-12">
      	<h3 class="black-title" style="text-align: center;">{{'Products.title' | translate}}</h3>
      	<hr class="hr-small">
      </div>
    </div>
    <div class="row">
    	<form [formGroup]="searchForm" (submit)="searchProducts(searchForm.get('search').value)">
	      <div class="form-group">
	        <input type="text" class="form-control" placeholder="{{'Products.search-placeholder'| translate}}" formControlName="search" [ngClass]="{'is-invalid':searchForm.get('search').invalid && searchForm.get('search').touched}">
	        <div class="invalid-feedback" *ngIf="searchForm.get('search').hasError('required')">{{'Products.no-empty'| translate}}</div>
	      </div>
	      <div class="form-group">
	        <input type="submit" class="form-control black-btn" value="{{'Products.search-button'| translate}}" [disabled]="searchForm.invalid">
	      </div>
	    </form>
    </div>
    <div class="row">
    	<div class="col-12">
      		<img src="../../assets/loader.gif" alt="" class="loading" *ngIf="showLoading">
      	</div>
      	<div class="col-lg-12" *ngIf="showNotFound">
	        <h1 class="notfound">{{'Products.no-result' | translate}}</h1>
	      </div>
      <div class="col-xl-3 col-lg-6 result" *ngFor="let product of products; let i=index">
        <div class="search-result">
          <div class="col-lg-12 search-product-img">
            <a routerLink="/product/{{product.id}}"><div [style.background-image]="image[i]" class="bg-img-prod"></div></a>
            <div class="btn-overlay">
              <a routerLink="/product/{{product.id}}"class="btn-green">{{'Products.view-button' | translate}}</a>
            </div>
          </div>
          <div class="col-lg-12 search-product-desc">
           <div class="row">
            <div class="col-lg-8 col-8">
              <a routerLink="/product/{{product.id}}"><h3 class="search-product-name">{{product.name}}</h3></a>
              <span class="coming-from">
                <b>{{'Products.location' | translate}}: </b>{{product.country}}
              </span>
              <div *ngIf="product.store==null; else showStore" class="owner">
                <b>{{'Products.owner' | translate}}: </b>
                <p>{{'Products.no-owner' | translate}}</p>
              </div>
              <ng-template #showStore>
                <div class="owner">
                  <b>{{'Products.owner' | translate}}:</b> <br>
                  <a routerLink="/store/{{product.store.owner.id}}"> {{product.store.owner.firstName}} {{product.store.owner.lastName}}</a>
                </div>
              </ng-template>
              <div><b>{{'Products.description' | translate}}:</b><br>{{smallDesc(product.description)}}...</div>
            </div>
            <div class="col-lg-4 col-4">
              <div class="search-price">
                ${{product.price.value}} <br>
                <span class="search-price-type">{{product.weight.type}}</span>
              </div>
            </div>
           </div>
         </div>
         <div class="view-detail-cont">
            <a routerLink="/product/{{product.id}}" class="badge badge-green">{{'MyProducts.view-button' | translate}}</a>
            <br>
            <a routerLink="/edit-product/{{product.id}}" class="badge badge-info">{{'MyProducts.edit-button' | translate}}</a>
            <br>
            <a (click)="deleteProduct(product.id, i)" class="badge badge-danger">{{'MyProducts.delete-button' | translate}}</a>
          </div>
       </div>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <span class="btn-pagination previous" (click)="previousPage()" *ngIf="showPrvP">{{'Products.previous' | translate}}</span>
        <span class="btn-pagination next" (click)="nextPage()" *ngIf="showNextP">{{'Products.next' | translate}}</span>
      </div>
    </div>
  </div>
</div>   